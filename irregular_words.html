<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<script language="javascript">
top_words = 20;
irregularVerbs = [
['be','was / were','been'],
['become','became','become'],
['begin','began','begun'],
['bring','brought','brought'],
['buy','bought','bought'],
['choose','chose','chosen'],
['come','came','come'],
['do','did','done'],
['drink','drank','drunk'],
['drive','drove','driven'],
['eat','ate','eaten'],
['fall','fell','fallen'],
['feel','felt','felt'],
['find','found','found'],
['fly','flew','flown'],
['forget','forgot','forgotten'],
['get','got','got'],
['give','gave','given'],
['go','went','gone'],
['have','had','had'],
['hear','heard','heard'],
['keep','kept','kept'],
['know','knew','known'],
['leave','left','left'],
['lend','lent','lent'],
['let','let','let'],
['lose','lost','lost'],
['make','made','made'],
['meet','met','met'],
['pay','paid','paid'],
['put','put','put'],
['read','read','read'],
['run','ran','run'],
['say','said','said'],
['see','saw','seen'],
['sell','sold','sold'],
['send','sent','sent'],
['sing','sang','sung'],
['sit','sat','sat'],
['sleep','slept','slept'],
['speak','spoke','spoken'],
['stand','stood','stood'],
['swim','swam','swum'],
['take','took','taken'],
['teach','taught','taught'],
['tell','told','told'],
['think','thought','thought'],
['understand','understood','understood'],
['wear','wore','worn'],
['write','wrote','written']
];

function check_words(){
	var infinitive_input = document.getElementById('infinitive');
	var	past_simple_input = document.getElementById('past-simple');
	var past_participle_input =	document.getElementById('past-paticiple');
	
	var simple = infinitive_input.value.trim().toLowerCase();
	var past_simple = past_simple_input.value.trim().toLowerCase();
	var past_paticiple = past_participle_input.value.trim().toLowerCase();
	var passed = 0;
	
	console.log(simple, irregularVerbs[current_word_num])
	
	if (simple == irregularVerbs[current_word_num][0])
		passed++;
		
	if (past_simple == irregularVerbs[current_word_num][1])
		passed++;
	
	if (past_paticiple == irregularVerbs[current_word_num][2])
		passed++;
	
	if (passed == 3)
	{
		infinitive_input.value = '';
		past_simple_input.value = '';
		past_participle_input.value = '';
		addHistory(irregularVerbs[current_word_num]);		
		fetchNextWord();
	}
	else
		console.log('failed')
}

function addHistory(wordList){
		var history_log = document.createElement('div');
		history_log.textContent = wordList.join(' ');
		document.getElementById('test_form').appendChild(history_log);
}

function fetchNextWord(){
	var elem = document.getElementById('cur_word');
	current_word_num = Math.floor(Math.random()*(irregularVerbs.length)) % top_words;
	console.log(current_word_num);
	elem.textContent = irregularVerbs[current_word_num][Math.floor(Math.random()*3)];
}

function switchToNextOnEnter(ev){
	;
}

</script>

<body onload="fetchNextWord()">
<div id="test_form">
<div id="cur_word" style="font-family:sans-serif;padding:5em;font-size:120%">not loaded</div>
<table>
<tr>
<td>Infinitive</td><td>Past Simple</td><td>Past participle</td><td/>
</tr>
<input id="infinitive" onkeypress=""/>
<input id="past-simple"/>
<input id="past-paticiple"/>
<input type="button" value="Check my answer" onclick="check_words();return false;"/>
</table>
</div>
</body>
